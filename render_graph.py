import json
import flask
from flask_cors import CORS

FILE_NAME = "plot_data.json"
app = flask.Flask(__name__)
CORS(app)
app.config['TEMPLATES_AUTO_RELOAD'] = True

@app.route("/", methods=["GET"])
def index():
    data = dict()
    try:
        with open(FILE_NAME, "r") as f:
            data = json.load(f) 
    except IOError as e:
        print(e)
        data = {"status": "IO_ERROR"}
    return flask.jsonify(data)


@app.route("/idx", methods=["GET"])
def po():
    data = {
        "protain_names": "000",
        "acc": "E7EMC6",
        "percentage": 60.0,
        "threshold": 0.2,
        "score": [0.5, 0.8333333333333334, 0.6666666666666666, 0.5, 0.3333333333333333, 0.16666666666666666, 0.16666666666666666, 0, 0.16666666666666666, 0.16666666666666666, 0.3333333333333333, 0.3333333333333333, 0.5, 0.3333333333333333, 0.5, 0.3333333333333333, 0.5, 0.5, 0.5, 0.5, 0.6666666666666666, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.6666666666666666, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 0.8333333333333334, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0.8333333333333334, 1, 0.8333333333333334, 0.8333333333333334, 1, 1, 1, 1, 1, 1],
        "seq": ['X', 'M', 'G', 'L', 'E', 'A', 'I', 'I', 'R', 'K', 'A', 'L', 'M', 'G', 'K', 'Y', 'D', 'Q', 'W', 'E', 'E', 'S', 'P', 'P', 'L', 'S', 'A', 'N', 'A', 'F', 'N', 'P', 'L', 'N', 'A', 'S', 'A', 'S', 'L', 'P', 'A', 'A', 'M', 'P', 'I', 'T', 'A', 'A', 'D', 'G', 'R', 'S', 'D', 'H', 'T', 'L', 'T', 'S', 'P', 'G', 'G', 'G', 'G', 'K', 'A', 'K', 'V', 'S', 'G', 'R', 'P', 'S', 'S', 'R', 'K', 'A', 'K', 'S', 'P', 'A', 'P', 'G', 'L', 'A', 'S', 'G', 'D', 'R', 'P', 'P', 'S', 'V', 'S', 'S', 'V', 'H', 'S', 'E', 'G', 'D', 'C', 'N', 'R', 'R', 'T', 'P', 'L', 'T', 'N', 'R', 'V', 'W', 'E', 'D', 'R', 'P', 'S', 'S', 'A', 'G', 'G', 'H', 'Q', 'V', 'P', 'R', 'H', 'S', 'P', 'T', 'T', 'P'],
    }
    return flask.render_template("index.html", data=data)


if __name__ == "__main__":
    app.run(port=96857)