#:import FadeTransition  kivy.uix.screenmanager.FadeTransition
<Row@BoxLayout>:
    canvas.before:
        Color:
            rgba: 0.5, 0.5, 0.5, 1
        Rectangle:
            size: self.size
            pos: self.pos
    value: ''


    Button:
        text: root.value
        on_press: root.score_plot(root.index)


<TopScreen>:
    BoxLayout:
        size:root.size

        Button:
            background_normal: 'body_cell.zip'
            size:root.size
            size_hint:None,None
            text:'search screen '
            on_press: root.press_btn()#Top_Screenのメソッドが実行される

<SearchScreen>:
    BoxLayout:
        # 背景色
        canvas:
            Color:
                rgba: 0.3, 0.3, 0.3, 1
            Rectangle:
                size: self.size
                pos: self.pos
        orientation:'vertical'
        size:root.size                     # windowのサイズを取得

        # タイトル
        Label:
            size_hint_y: 0.1
        Label:
            text:'MobiDB Plot Apprication'   # Labelの名前を設定
            font_size: 36
            text_size: self.size             # ラベルサイズを設定.これによりhalign, valignが変更可能になる
            halign: 'left'                   # 横方向(左揃え)
            valign: 'center'                 # 縦方向(真ん中揃え)
            underline: True


        Label:
            size_hint_y: 0.1

        # キーワード入力
        Label:
            text:"Keyword"
            font_size: 24
            text_size: self.size             # ラベルサイズを設定.これによりhalign, valignが変更可能になる
            halign: 'left'                   # 横方向(左揃え)

        BoxLayout:
            orientation:'horizontal'
            size:self.size

            TextInput:
                id:keyword
                font_size: 24

            Label:
                size_hint_x: 0.33
        Label:
            size_hint_y: 0.2

        # Threshold Value入力
        Label:
            text:"Threshold Value"
            font_size: 24
            text_size: self.size             # ラベルサイズを設定.これによりhalign, valignが変更可能になる
            halign: 'left'                   # 横方向(左揃え)

        BoxLayout:
            orientation:'horizontal'
            size:self.size

            TextInput:
                id:th_val
                font_size: 24

            Label:
                size_hint_x: 0.33
        Label:
            size_hint_y: 0.2

        # Threshold Lengsの入力
        Label:
            text:"Threshold Lengs"
            font_size: 24
            text_size: self.size             # ラベルサイズを設定.これによりhalign, valignが変更可能になる
            halign: 'left'                   # 横方向(左揃え)

        BoxLayout:
            orientation:'horizontal'
            size:self.size

            TextInput:
                id:th_len
                font_size: 24

            Label:
                size_hint_x: 0.33
        Label:
            size_hint_y: 0.2

        # fill gapの入力
        Label:
            text:"Fill Gap"
            font_size: 24
            text_size: self.size             # ラベルサイズを設定.これによりhalign, valignが変更可能になる
            halign: 'left'                   # 横方向(左揃え)

        BoxLayout:
            orientation:'horizontal'
            size:self.size

            TextInput:
                id:th_val
                font_size: 24

            Label:
                size_hint_x: 0.33
        Label:
            size_hint_y: 0.2

        # 実行ボタン
        BoxLayout:
            orientation:'horizontal'
            size:self.size
            Label:
                size_hint_x: 0.75
            Button:
                text: 'Search with this condition'
                background_color: (0, 2, 10, 0.5)
                size_hint_x: 0.25
                on_press: root.press_btn()

<WaitScreen>:
    BoxLayout:
        orientation:'vertical'
        size: root.size

        Label:
            size_hint_y: 0.1
            text:''

        Label:
            text_size: self.size
            text:'Searching Now'
            valign:'bottom'
            halign:'left'
            size_hint_x: 0.5
            size_hint_y:0.4
            font_size: 24
            pos_hint: {"x":0, "y":0.9}

        Image:
            size: root.size
            allow_stretch: True
            keep_ratio: False
            size_hint_x:1
            size_hint_y:0.4
            source:'loading4.gif'


        Label:
            size_hint_y: 0.1
            text:''

        Button:
            size: 50,50
            size_hint: None,None
            text:"cancel"
            on_press: root.press_btn()#Wait_Screenのメソッドが実行される

<OutputScreen>:
    rv: rv
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            canvas:
                Color:
                    rgba: 0.3, 0.3, 0.3, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
            orientation: 'vertical'
            GridLayout:
                cols: 3
                rows: 1
                size_hint_y: None
                height: dp(54)
                padding: dp(8)
                spacing: dp(4)
                BoxLayout:
                    spacing: dp(8)
                    Button:
                        text: 'Sort'
                        on_press: root.sort(sort_list.text)
                    TextInput:
                        id: sort_list
                        size_hint_x: 1
                        hint_text: 'select method'
                        padding: dp(10), dp(10), 0, 0
                BoxLayout:
                    spacing: dp(8)
                    Button:
                        text: 'Filter'
                        on_press: root.filter(filter_list.text)
                    TextInput:
                        id: filter_list
                        size_hint_x: 1
                        hint_text: 'select method'
                        padding: dp(10), dp(10), 0, 0
                Button:
                    text: 'return window'
                    on_press: root.return_window()

            RecycleView:
                id: rv
                scroll_type: ['bars', 'content']
                scroll_wheel_distance: dp(114)
                bar_width: dp(10)
                RecycleBoxLayout:
                    viewclass: 'Row'
                    default_size: None, dp(56)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
                    spacing: dp(2)







